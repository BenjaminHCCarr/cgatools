<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>cgatools: cgatools::reference::RangeAnnotationStore&lt; Derived, TValue &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacecgatools.html">cgatools</a>::<a class="el" href="namespacecgatools_1_1reference.html">reference</a>::<a class="el" href="classcgatools_1_1reference_1_1RangeAnnotationStore.html">RangeAnnotationStore</a>
  </div>
</div>
<div class="contents">
<h1>cgatools::reference::RangeAnnotationStore&lt; Derived, TValue &gt; Class Template Reference</h1><!-- doxytag: class="cgatools::reference::RangeAnnotationStore" -->
<p>Front end to IntervalTree based on reference ranges that allows to load annotations from a file.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="RangeAnnotationStore_8hpp_source.html">RangeAnnotationStore.hpp</a>&gt;</code></p>

<p><a href="classcgatools_1_1reference_1_1RangeAnnotationStore-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgatools_1_1reference_1_1RangeAnnotationStore_1_1MidpointField.html">MidpointField</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">special delimited field parser to put same column ("position") in two places  <a href="classcgatools_1_1reference_1_1RangeAnnotationStore_1_1MidpointField.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e412111e5db060a399df8d8e35fcb75"></a><!-- doxytag: member="cgatools::reference::RangeAnnotationStore::DataStore" ref="a7e412111e5db060a399df8d8e35fcb75" args="" -->
typedef <a class="el" href="classcgatools_1_1util_1_1IntervalTree.html">util::IntervalTree</a><br class="typebreak"/>
&lt; <a class="el" href="classcgatools_1_1reference_1_1Range.html">reference::Range</a>, <br class="typebreak"/>
<a class="el" href="classcgatools_1_1reference_1_1Location.html">reference::Location</a>, TValue, <br class="typebreak"/>
<a class="el" href="structcgatools_1_1reference_1_1RangeOverlap.html">reference::RangeOverlap</a>, <br class="typebreak"/>
<a class="el" href="structcgatools_1_1reference_1_1GetRangeBoundary.html">reference::GetRangeBoundary</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>DataStore</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2cbf012b281ea5f0c6593f8599cf2c8b"></a><!-- doxytag: member="cgatools::reference::RangeAnnotationStore::QueryResultType" ref="a2cbf012b281ea5f0c6593f8599cf2c8b" args="" -->
typedef DataStore::QueryResultType&nbsp;</td><td class="memItemRight" valign="bottom"><b>QueryResultType</b></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a53623c622103b27339ac1bb400377a74"></a><!-- doxytag: member="cgatools::reference::RangeAnnotationStore::RangeAnnotationStore" ref="a53623c622103b27339ac1bb400377a74" args="(const reference::CrrFile &amp;crr)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>RangeAnnotationStore</b> (const <a class="el" href="classcgatools_1_1reference_1_1CrrFile.html">reference::CrrFile</a> &amp;crr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0439b3831ab650b58b34dbee4ab0f6f5"></a><!-- doxytag: member="cgatools::reference::RangeAnnotationStore::getMetadata" ref="a0439b3831ab650b58b34dbee4ab0f6f5" args="() const " -->
const <a class="el" href="classcgatools_1_1util_1_1DelimitedFileMetadata.html">util::DelimitedFileMetadata</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgatools_1_1reference_1_1RangeAnnotationStore.html#a0439b3831ab650b58b34dbee4ab0f6f5">getMetadata</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns metadata of the source delimited file. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgatools_1_1reference_1_1RangeAnnotationStore.html#ab0319bfc24944d6df73a3231d116a6a8">intersect</a> (const <a class="el" href="classcgatools_1_1reference_1_1Range.html">reference::Range</a> &amp;range, std::vector&lt; QueryResultType &gt; &amp;result) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fills the vector with iterators that point to the ranges intersecting a given range.  <a href="#ab0319bfc24944d6df73a3231d116a6a8"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad7996086234f6a5f214eff0a2d2abdb6"></a><!-- doxytag: member="cgatools::reference::RangeAnnotationStore::Base" ref="ad7996086234f6a5f214eff0a2d2abdb6" args="" -->
typedef <a class="el" href="classcgatools_1_1reference_1_1RangeAnnotationStore.html">RangeAnnotationStore</a><br class="typebreak"/>
&lt; Derived, TValue &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgatools_1_1reference_1_1RangeAnnotationStore.html#ad7996086234f6a5f214eff0a2d2abdb6">Base</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Typedef for this class to simplify constructor invocation in descendants. <br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a580d0fdfd1a1b21709721f3a071cd999"></a><!-- doxytag: member="cgatools::reference::RangeAnnotationStore::load" ref="a580d0fdfd1a1b21709721f3a071cd999" args="(const std::string &amp;fn, char delimiter= '\t')" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgatools_1_1reference_1_1RangeAnnotationStore.html#a580d0fdfd1a1b21709721f3a071cd999">load</a> (const std::string &amp;fn, char delimiter= '\t')</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load data from the file with a given name. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgatools_1_1reference_1_1RangeAnnotationStore.html#a515969c9341481ae509c3ac1c65eede4">bindRangeColumns</a> (<a class="el" href="classcgatools_1_1util_1_1DelimitedFile.html">util::DelimitedFile</a> &amp;df, <a class="el" href="classcgatools_1_1reference_1_1Range.html">reference::Range</a> &amp;range, const std::string &amp;chrColName=&quot;chromosome&quot;, const std::string &amp;begColName=&quot;begin&quot;, const std::string &amp;endColName=&quot;end&quot;)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Utility function that the implementation of the derived class can call from bindColumns to add the parsers for the columns that correspond to range data.  <a href="#a515969c9341481ae509c3ac1c65eede4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4b19f12e67023e096e02a5762f4c44f3"></a><!-- doxytag: member="cgatools::reference::RangeAnnotationStore::bindRangeMidpointColumns" ref="a4b19f12e67023e096e02a5762f4c44f3" args="(util::DelimitedFile &amp;df, reference::Range &amp;range, const std::string &amp;chrColName=&quot;chromosome&quot;, const std::string &amp;midpointColName=&quot;position&quot;)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcgatools_1_1reference_1_1RangeAnnotationStore.html#a4b19f12e67023e096e02a5762f4c44f3">bindRangeMidpointColumns</a> (<a class="el" href="classcgatools_1_1util_1_1DelimitedFile.html">util::DelimitedFile</a> &amp;df, <a class="el" href="classcgatools_1_1reference_1_1Range.html">reference::Range</a> &amp;range, const std::string &amp;chrColName=&quot;chromosome&quot;, const std::string &amp;midpointColName=&quot;position&quot;)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Utility function that the implementation of the derived class can call from bindColumns to add the parsers for the columns that correspond to range data, special cased for. <br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1eef93c7b56d4e189b16899805d0ec46"></a><!-- doxytag: member="cgatools::reference::RangeAnnotationStore::crr_" ref="a1eef93c7b56d4e189b16899805d0ec46" args="" -->
const <a class="el" href="classcgatools_1_1reference_1_1CrrFile.html">reference::CrrFile</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>crr_</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a045001b838b64b8d4c6531e5fba87634"></a><!-- doxytag: member="cgatools::reference::RangeAnnotationStore::data_" ref="a045001b838b64b8d4c6531e5fba87634" args="" -->
<a class="el" href="classcgatools_1_1util_1_1IntervalTree.html">DataStore</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>data_</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename Derived, typename TValue&gt;<br/>
 class cgatools::reference::RangeAnnotationStore&lt; Derived, TValue &gt;</h3>

<p>Front end to IntervalTree based on reference ranges that allows to load annotations from a file. </p>
<p>To build your own annotation store, derive from this class and provide an implementation for bindColumns method to associate column names to fields of the TValue structure. See class RepMaskStore in VarFileCombine.cpp for an example. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a515969c9341481ae509c3ac1c65eede4"></a><!-- doxytag: member="cgatools::reference::RangeAnnotationStore::bindRangeColumns" ref="a515969c9341481ae509c3ac1c65eede4" args="(util::DelimitedFile &amp;df, reference::Range &amp;range, const std::string &amp;chrColName=&quot;chromosome&quot;, const std::string &amp;begColName=&quot;begin&quot;, const std::string &amp;endColName=&quot;end&quot;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived, typename TValue&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcgatools_1_1reference_1_1RangeAnnotationStore.html">cgatools::reference::RangeAnnotationStore</a>&lt; Derived, TValue &gt;::bindRangeColumns </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcgatools_1_1util_1_1DelimitedFile.html">util::DelimitedFile</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>df</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcgatools_1_1reference_1_1Range.html">reference::Range</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>chrColName</em> = <code>&quot;chromosome&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>begColName</em> = <code>&quot;begin&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>endColName</em> = <code>&quot;end&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Utility function that the implementation of the derived class can call from bindColumns to add the parsers for the columns that correspond to range data. </p>

</div>
</div>
<a class="anchor" id="ab0319bfc24944d6df73a3231d116a6a8"></a><!-- doxytag: member="cgatools::reference::RangeAnnotationStore::intersect" ref="ab0319bfc24944d6df73a3231d116a6a8" args="(const reference::Range &amp;range, std::vector&lt; QueryResultType &gt; &amp;result) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived, typename TValue&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcgatools_1_1reference_1_1RangeAnnotationStore.html">cgatools::reference::RangeAnnotationStore</a>&lt; Derived, TValue &gt;::intersect </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcgatools_1_1reference_1_1Range.html">reference::Range</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; QueryResultType &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fills the vector with iterators that point to the ranges intersecting a given range. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="RangeAnnotationStore_8hpp_source.html">RangeAnnotationStore.hpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2 </small></address>
</body>
</html>
